# 프로젝트 아키텍처

## 개요

독서 기록 사이트는 병렬 독서자를 위한 독서 기록 서비스의 웹 애플리케이션입니다.

## 기술 스택

### 프론트엔드 (웹/UI)
- **HTML5**: 웹 페이지 구조 및 마크업
- **CSS3**: 스타일링 및 레이아웃
- **JavaScript (ES6+)**: 클라이언트 사이드 로직 및 API 통신

### 백엔드 (서버)
- **Spring Boot**: Java 기반 웹 애플리케이션 프레임워크
- **Spring MVC**: 프론트엔드와 백엔드 간 통신 및 RESTful API 제공

### 데이터베이스
- **MySQL**: 관계형 데이터베이스 관리 시스템

### ORM (Object-Relational Mapping)
- **JPA (Java Persistence API)**: Java 객체와 데이터베이스 테이블 간 매핑

## 아키텍처 구조

```
┌─────────────────────────────────────────────────────────┐
│                    클라이언트 (브라우저)                    │
│  ┌───────────────────────────────────────────────────┐  │
│  │  HTML + CSS + JavaScript                          │  │
│  │  - 정적 파일 (HTML, CSS, JS)                      │  │
│  │  - AJAX/Fetch API를 통한 서버 통신                │  │
│  └───────────────────────────────────────────────────┘  │
└───────────────────────┬─────────────────────────────────┘
                        │ HTTP/HTTPS
                        │ RESTful API
                        │ (JSON)
┌───────────────────────┴─────────────────────────────────┐
│              백엔드 서버 (Spring Boot)                    │
│  ┌───────────────────────────────────────────────────┐  │
│  │  Spring MVC                                       │  │
│  │  - REST Controller                                │  │
│  │  - Request/Response 처리                          │  │
│  │  - CORS 설정                                      │  │
│  └───────────────────────────────────────────────────┘  │
│  ┌───────────────────────────────────────────────────┐  │
│  │  Service Layer                                    │  │
│  │  - 비즈니스 로직 처리                             │  │
│  └───────────────────────────────────────────────────┘  │
│  ┌───────────────────────────────────────────────────┐  │
│  │  Repository Layer (JPA)                          │  │
│  │  - 데이터베이스 접근                              │  │
│  │  - Entity 매핑                                    │  │
│  └───────────────────────────────────────────────────┘  │
└───────────────────────┬─────────────────────────────────┘
                        │ JDBC
                        │ SQL
┌───────────────────────┴─────────────────────────────────┐
│              데이터베이스 (MySQL)                         │
│  - 독서 기록 데이터 저장                                 │
│  - 사용자 정보 저장                                      │
│  - 관계형 데이터 관리                                    │
└─────────────────────────────────────────────────────────┘
```

## 데이터 흐름

### 1. 사용자 요청 처리 흐름

```
사용자 액션 (브라우저)
    ↓
JavaScript (Fetch/AJAX)
    ↓
HTTP Request (JSON)
    ↓
Spring MVC Controller
    ↓
Service Layer (비즈니스 로직)
    ↓
Repository Layer (JPA)
    ↓
MySQL Database
    ↓
응답 역순으로 반환
    ↓
JSON Response
    ↓
JavaScript (DOM 조작)
    ↓
사용자에게 결과 표시
```

### 2. 정적 파일 제공

Spring Boot는 정적 리소스(HTML, CSS, JavaScript)를 제공할 수 있습니다:
- `src/main/resources/static/` 디렉토리에 정적 파일 배치
- 또는 별도의 웹 서버(Nginx 등)에서 제공

## 주요 컴포넌트

### 프론트엔드 컴포넌트
- **HTML**: 페이지 구조 및 콘텐츠
- **CSS**: 스타일링, 레이아웃, 반응형 디자인
- **JavaScript**: 
  - DOM 조작
  - 이벤트 처리
  - API 통신 (Fetch API)
  - 상태 관리

### 백엔드 컴포넌트
- **Controller**: REST API 엔드포인트 정의
- **Service**: 비즈니스 로직 구현
- **Repository**: JPA를 통한 데이터베이스 접근
- **Entity**: 데이터베이스 테이블과 매핑되는 Java 클래스
- **DTO**: 데이터 전송 객체

## API 통신 방식

### RESTful API
- **GET**: 데이터 조회
- **POST**: 데이터 생성
- **PUT**: 데이터 수정
- **DELETE**: 데이터 삭제

### 데이터 형식
- **요청/응답**: JSON 형식
- **Content-Type**: `application/json`

### 인증 방식
- JWT (JSON Web Token) 또는 Session 기반 인증
- Authorization 헤더에 토큰 포함

## CORS 설정

Spring Boot에서 프론트엔드 도메인을 허용하도록 CORS 설정이 필요합니다:

```java
@CrossOrigin(origins = "http://localhost:5500") // 또는 프론트엔드 서버 주소
```

## 배포 구조

### 개발 환경
- 프론트엔드: 로컬 파일 시스템 또는 간단한 HTTP 서버 (예: Live Server)
- 백엔드: Spring Boot 내장 톰캣 (포트 8080)
- 데이터베이스: 로컬 MySQL 서버

### 프로덕션 환경
- 프론트엔드: 웹 서버 (Nginx, Apache) 또는 CDN
- 백엔드: Spring Boot 애플리케이션 서버
- 데이터베이스: MySQL 서버

## 보안 고려사항

1. **CORS**: 허용된 도메인만 접근 가능하도록 설정
2. **인증/인가**: JWT 토큰 검증 및 권한 확인
3. **입력 검증**: 클라이언트 및 서버 양쪽에서 입력값 검증
4. **SQL Injection 방지**: JPA를 사용하여 자동으로 방지
5. **XSS 방지**: 사용자 입력 데이터 이스케이프 처리

## 향후 확장 가능성

- 프론트엔드 프레임워크 도입 (필요시)
- 캐싱 레이어 추가 (Redis 등)
- 파일 업로드 기능
- 실시간 통신 (WebSocket)
- 모바일 앱 연동 (동일한 백엔드 API 활용)

